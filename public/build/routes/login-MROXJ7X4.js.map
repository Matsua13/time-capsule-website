{
  "version": 3,
  "sources": ["../../../app/routes/login.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/login.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/login.tsx\");\n  import.meta.hot.lastModified = \"1740075850599.736\";\n}\n// REMIX HMR END\n\n// app/routes/login.tsx\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { json } from \"@remix-run/node\";\nimport { Form, useActionData, Link } from \"@remix-run/react\";\nimport bcrypt from \"bcryptjs\";\nimport { db } from \"~/utils/db.server\";\nimport { createUserSession } from \"~/utils/auth.server\";\nexport const action = async ({\n  request\n}) => {\n  const formData = await request.formData();\n  const email = formData.get(\"email\");\n  const password = formData.get(\"password\");\n\n  // Validation basique\n  if (typeof email !== \"string\" || typeof password !== \"string\") {\n    return json({\n      error: \"Invalid form details\"\n    }, {\n      status: 400\n    });\n  }\n\n  // Rechercher l'utilisateur par email\n  const user = await db.user.findUnique({\n    where: {\n      email\n    }\n  });\n  if (!user) {\n    return json({\n      error: \"Invalid IDs\"\n    }, {\n      status: 400\n    });\n  }\n\n  // V\u00E9rifier le mot de passe hash\u00E9\n  const isCorrectPassword = await bcrypt.compare(password, user.password);\n  if (!isCorrectPassword) {\n    return json({\n      error: \"Invalid IDs\"\n    }, {\n      status: 400\n    });\n  }\n\n  // Cr\u00E9ation de la session et redirection (la fonction g\u00E8re les cookies s\u00E9curis\u00E9s)\n  return createUserSession(user.id, \"/dashboard\");\n};\nexport default function LoginPage() {\n  _s();\n  const actionData = useActionData();\n  return <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-sky-400 to-sky-600 p-4\">\n      <h1 className=\"text-4xl font-extrabold text-white mb-6 drop-shadow-lg\">\n        Let&#39;s create magic!\n      </h1>\n      <Form method=\"post\" className=\"w-full max-w-md bg-yellow-200 p-8 rounded-3xl shadow-xl border-4 border-yellow-500\">\n        {actionData?.error ? <div className=\"mb-4 text-red-600 font-bold\">{actionData.error}</div> : null}\n        <div className=\"mb-4\">\n          <label htmlFor=\"email\" className=\"block text-lg font-semibold text-gray-700 mb-1\">\n            Email\n          </label>\n          <input type=\"email\" name=\"email\" id=\"email\" required className=\"w-full p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-red-500\" />\n        </div>\n        <div className=\"mb-6\">\n          <label htmlFor=\"password\" className=\"block text-lg font-semibold text-gray-700 mb-1\">\n            Password\n          </label>\n          <input type=\"password\" name=\"password\" id=\"password\" required className=\"w-full p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-red-500\" />\n        </div>\n        <button type=\"submit\" className=\"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-full shadow-xl transform hover:scale-105 transition\">\n          Log in\n        </button>\n      </Form>\n      <p className=\"mt-4 text-white\">\n        Not a member yet?{\" \"}\n        <Link to=\"/signup\" className=\"text-blue-200 underline font-semibold\">\n          Joins us!\n        </Link>\n      </p>\n    </div>;\n}\n_s(LoginPage, \"fHVw5pq0Zwd2gXh2gyrnVdHnLCc=\", false, function () {\n  return [useActionData];\n});\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,kBAAqB;AAGrB,gBAAmB;AACnB,kBAAkC;AAgD5B;AA1EN,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,2BAA6B,EAAE;AAAA,EACxE;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAAsB;AACtB,cAAY,IAAI,eAAe;AACjC;AAqDe,SAAR,YAA6B;AAClC,KAAG;AACH,QAAM,aAAa,cAAc;AACjC,SAAO,mDAAC,SAAI,WAAU,wGAClB;AAAA,uDAAC,QAAG,WAAU,0DAAyD,mCAAvE;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,IACA,mDAAC,QAAK,QAAO,QAAO,WAAU,sFAC3B;AAAA,kBAAY,QAAQ,mDAAC,SAAI,WAAU,+BAA+B,qBAAW,SAAzD;AAAA;AAAA;AAAA;AAAA,aAA+D,IAAS;AAAA,MAC7F,mDAAC,SAAI,WAAU,QACb;AAAA,2DAAC,WAAM,SAAQ,SAAQ,WAAU,kDAAiD,qBAAlF;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,QACA,mDAAC,WAAM,MAAK,SAAQ,MAAK,SAAQ,IAAG,SAAQ,UAAQ,MAAC,WAAU,uGAA/D;AAAA;AAAA;AAAA;AAAA,eAAmK;AAAA,WAJrK;AAAA;AAAA;AAAA;AAAA,aAKA;AAAA,MACA,mDAAC,SAAI,WAAU,QACb;AAAA,2DAAC,WAAM,SAAQ,YAAW,WAAU,kDAAiD,wBAArF;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,QACA,mDAAC,WAAM,MAAK,YAAW,MAAK,YAAW,IAAG,YAAW,UAAQ,MAAC,WAAU,uGAAxE;AAAA;AAAA;AAAA;AAAA,eAA4K;AAAA,WAJ9K;AAAA;AAAA;AAAA;AAAA,aAKA;AAAA,MACA,mDAAC,YAAO,MAAK,UAAS,WAAU,iIAAgI,sBAAhK;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,SAhBF;AAAA;AAAA;AAAA;AAAA,WAiBA;AAAA,IACA,mDAAC,OAAE,WAAU,mBAAkB;AAAA;AAAA,MACX;AAAA,MAClB,mDAAC,QAAK,IAAG,WAAU,WAAU,yCAAwC,yBAArE;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,SAJF;AAAA;AAAA;AAAA;AAAA,WAKA;AAAA,OA3BG;AAAA;AAAA;AAAA;AAAA,SA4BL;AACJ;AACA,GAAG,WAAW,gCAAgC,OAAO,WAAY;AAC/D,SAAO,CAAC,aAAa;AACvB,CAAC;AACD,KAAK;AACL,IAAI;AACJ,aAAa,IAAI,WAAW;AAE5B,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": []
}
